# 3. 변환

## 3.1 선형변환
  - 두 벡터 u,v와 스칼라 k에 대하여 </br>
  `t(u + v) = t(u) + t(v)`  </br> 
  `t(ku) = k * t(u)`
 </br> 위와같은 성질이 성립하면 함수 t를 **선형변환**이라고 부른다.

 - Standard basis vector(표준기저벡터, 일반적인 3차원 좌표축)에서 t는 벡터와 행렬의 곱으로 표현될 수 있고, 이를 행렬표현이라고 한다.
    ```
    t(u) = xt(i) + yt(j) + zt(k)
         = uA = [x,y,z][ <-t(i)-> ] = [x,y,z][ A11, A12, A13 ] 
                       [ <-t(j)-> ]          [ A21, A22, A23 ]
                       [ <-t(k)-> ]          [ A13, A32, A33 ]
    ```

---


- **비례변환**은 물체의 크기를 바꾸는 효과이며 선형변환이다.
  - 비례행렬과 그 역은 다음과 같다. 
    ```
        S = [ Sx  0   0 ]    S^-1 =  [ 1/Sx  0   0 ] 
            [ 0   Sy  0 ]            [ 0   1/Sy  0 ]
            [ 0   0   Sz]            [ 0   0   1/Sz]
    ```
  - 비례행렬을 벡터 뒤에 곱하면 비례변환이 이루어진다.

---


- **회전변환**은 축 n의 진행방향을 기준으로 반시계 방향으로 회전하는 효과이며 선형변환이다.
  - *임의 축에 대한 회전행렬은 좀 복잡...* (회전하는 부분 다시 보기)
  - 회전행렬의 각 행벡터(축)은 정규직교이다.
  - x y z 축이 회전축일 경우 회전행렬은 단순해진다.
    ```
    Rx = [ 1  0   0  0 ]  Ry = [ cos 0 -sin 0 ]  Rz = [ cos sin 0  0 ]
         [ 0 cos sin 0 ]       [  0  1   0  0 ]       [-sin cos 0  0 ]
         [ 0-sin cos 0 ]       [ sin 0  cos 0 ]       [  0   0  1  0 ]
         [ 0  0   0  1 ]       [  0  0   0  1 ]       [  0   0  0  1 ]
    ```
- 회전행렬을 벡터 뒤에 곱하면 회전변환이 이루어진다.

---

## 3.2 Affine transformation (어파인변환)
- 동차좌표계(homogeneous coordinate)
  - 점과 벡터를 동일한 방식으로 다룰 수 있게 하는 표현 방법.
    - 벡터: (x, y, z, 0)
    - 점: (x, y, z, 1)
  
- 어파인 변환은, **선형변환에 이동벡터b를 더한 것** 이다.
- 어파인 변환의 행렬 표현은 다음과 같다.
```
    [x, y, z, 1][ A11  A12  A13  0 ]  
                [ A22  A22  A23  0 ]
                [ A31  A32  A33  0 ]      
                [ bx   by   bz   1 ]   

    //동차좌표를 이용하여 표현되며, w=1 인 점만 이동벡터 b가 적용된다. 0일땐 무시됨
```
  > +선형변환은 전부 어파인 변환으로 표현할 수 있다.
--- 

- **이동변환**은 물체의 위치를 이동하는 것으로, 모든 점을 벡터 b로 변경하면 그만큼 이동하는 것이다.
  - 이동행렬은 다음과 같다.
  ```
    T = [ 1   0   0   0 ]  
        [ 0   1   0   0 ]
        [ 0   0   1   0 ]      
        [ bx  by  bz  1 ] 
    ```
- 이동행렬을 벡터 뒤에 곱하면 이동변환이 이루어진다.

--- 
## 3.4 좌표계 변환
- ***좌표계 변환**은 좌표계 A에서의 벡터나 점을 좌표계 B에서 표현하는 것.
  ```
    (x', y', z', w) = xUb + yVb + zWb + wQb

    U = (Ub, Vb, Wb, Qb)
    U의 각 성분은 좌표계 A의 x y z 축 방향 단위벡터들을 좌표계 B에 상대적으로 표현한 벡터
    Qb는 좌표계 A의 원점을 좌표계 B에 상대적으로 표현한 점이다.
  ```
  - 따라서 좌표계 변환행렬 M을 행렬표현으로 나타내면 다음과 같다.
  ```
    M = [ Ux  Uy  Uz  0 ]  
        [ Vx  Vy  Vz  0 ]
        [ Wx  Wy  Wz  0 ]      
        [ Qx  Qy  Qz  1 ]  
  ```
 - 좌표계 A의 점에 좌표계 변환행렬 M을 곱하면 좌표계 B의 좌표로 변환/매핑된다.
 - 이때 M은 항상 가역행렬이고, 역행렬을 좌표계 B의 점/벡터에 곱하면 좌표계 A에서의 점/벡터가 나온다.


